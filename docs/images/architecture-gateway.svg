<svg xmlns="http://www.w3.org/2000/svg" width="1100" height="520" viewBox="0 0 1100 520" role="img" aria-label="Moltbot gateway architecture overview">
  <defs>
    <linearGradient id="panel" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#f8f6f2" />
      <stop offset="1" stop-color="#eef3ff" />
    </linearGradient>
    <style>
      .frame { fill: url(#panel); stroke: #2b2b2b; stroke-width: 2; }
      .card { fill: #ffffff; stroke: #2b2b2b; stroke-width: 2; }
      .accent { fill: #ffe9d6; stroke: #2b2b2b; stroke-width: 2; }
      .node { fill: #e7f7ed; stroke: #2b2b2b; stroke-width: 2; }
      .provider { fill: #fff1f1; stroke: #2b2b2b; stroke-width: 2; }
      .text { font: 15px "SF Pro Text", -apple-system, Helvetica, Arial, sans-serif; fill: #1a1a1a; }
      .title { font: 18px "SF Pro Display", -apple-system, Helvetica, Arial, sans-serif; font-weight: 600; fill: #1a1a1a; }
      .label { font: 12px "SF Pro Text", -apple-system, Helvetica, Arial, sans-serif; fill: #3c3c3c; }
      .arrow { stroke: #2b2b2b; stroke-width: 2; fill: none; marker-end: url(#arrow); }
      .dash { stroke-dasharray: 6 6; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#2b2b2b" />
    </marker>
  </defs>

  <rect class="frame" x="30" y="30" width="1040" height="460" rx="18" />
  <text class="title" x="70" y="70">Moltbot Gateway: control plane + channel routing</text>
  <text class="label" x="70" y="92">WebSocket control plane, single gateway per host, typed protocol</text>

  <rect class="card" x="70" y="130" width="240" height="150" rx="14" />
  <text class="text" x="190" y="160" text-anchor="middle">Control clients</text>
  <text class="label" x="190" y="185" text-anchor="middle">macOS app · CLI · Web UI</text>
  <text class="label" x="190" y="208" text-anchor="middle">Automations · tools</text>

  <rect class="accent" x="370" y="120" width="360" height="190" rx="18" />
  <text class="title" x="550" y="155" text-anchor="middle">Gateway</text>
  <text class="label" x="550" y="180" text-anchor="middle">WS API · JSON Schema validation</text>
  <text class="label" x="550" y="202" text-anchor="middle">Events · agent runs · queue</text>
  <text class="label" x="550" y="224" text-anchor="middle">Auth · pairing · allowlists</text>

  <rect class="node" x="770" y="130" width="250" height="150" rx="14" />
  <text class="text" x="895" y="160" text-anchor="middle">Nodes</text>
  <text class="label" x="895" y="185" text-anchor="middle">macOS · iOS · Android · headless</text>
  <text class="label" x="895" y="208" text-anchor="middle">Device caps + commands</text>

  <rect class="provider" x="110" y="340" width="880" height="120" rx="16" />
  <text class="text" x="550" y="370" text-anchor="middle">Messaging providers</text>
  <text class="label" x="550" y="395" text-anchor="middle">WhatsApp · Telegram · Slack · Discord · Signal · iMessage · WebChat</text>
  <text class="label" x="550" y="418" text-anchor="middle">One gateway owns provider sessions per host</text>

  <line class="arrow" x1="310" y1="205" x2="370" y2="205" />
  <line class="arrow" x1="730" y1="205" x2="770" y2="205" />
  <line class="arrow" x1="550" y1="310" x2="550" y2="340" />

  <rect class="card" x="70" y="305" width="240" height="120" rx="14" />
  <text class="text" x="190" y="335" text-anchor="middle">Canvas host</text>
  <text class="label" x="190" y="358" text-anchor="middle">HTML + A2UI surfaces</text>
  <line class="arrow dash" x1="270" y1="305" x2="370" y2="265" />
</svg>
